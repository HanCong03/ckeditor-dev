<!DOCTYPE html>
<html>
<head>
    <title>KityFormula公式编辑器</title>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">

    <link rel="stylesheet" href="assets/styles/page.css">
    <link rel="stylesheet" href="assets/styles/base.css">
    <link rel="stylesheet" href="assets/styles/scrollbar.css">
    <link rel="stylesheet" href="assets/theme/default/fui.min.css">
    <link rel="stylesheet" href="assets/theme/default/fui.ext.css">

    <script src="../config/ui.conf.js"></script>
    <script src="../lib/jquery-1.11.0.min.js"></script>
    <script src="../lib/jhtmls.min.js"></script>
    <script src="../lib/fui.all.js"></script>
    <script src="../lib/kitygraph.all.min.js"></script>
    <script src="../lib/kity-formula-render.all.js"></script>
    <script src="../lib/kity-formula-parser.all.js"></script>
    <script src="../lib/kityformula-editor.all.js"></script>
    <script>
        jQuery( function ($) {

            var factory = kf.EditorFactory.create( $( "#eidotr" )[ 0 ], {
                    render: {
                        fontsize: 40
                    },
                    resource: {
                        path: "../resource/"
                    }
                }),
                uniqueId = location.hash.substring( 1 );

            factory.ready( function () {

                var source = location.search;

                if ( source ) {
                    source = source.substring( 1 );
                } else {
                    source = "\\placeholder";
                }

                if ( !top.KF_EDITOR[uniqueId] ) {
                    return false;
                }

                this.execCommand( "render", source );
                this.execCommand( "focus" );

                // 设置打开dialog时设置公式的句柄
                top.KF_EDITOR[ uniqueId ].setFormulaEditor( this );

            } );

        } );
    </script>
</head>
<body>
    <div id="eidotr" class="kf-editor" style="width: 780px; height: 500px;"></div>
</body>
</html>